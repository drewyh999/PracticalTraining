webpackJsonp([2],{IPek:function(e,t){},sIzX:function(e,t){},tvR6:function(e,t){},"v+5l":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({name:"App"},s,!1,function(e){i("IPek")},null,null).exports,o=i("/ocq"),a={name:"login",data:function(){return{phone:"",key:"",usertype:"",isValid:0,isloading:!1}},methods:{check:function(){window.location.href="index.html?phone="+this.phone},toregister:function(){this.$router.push("/register/true")}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"card-wrapper"},[i("div",{staticClass:"inner-wrapper"},[i("el-form",{attrs:{"label-width":"80px"}},[i("el-form-item",[i("h1",[e._v("欢迎登陆")])]),e._v(" "),i("el-form-item",{attrs:{label:"手机号"}},[i("el-input",{model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码"}},[i("el-input",{attrs:{type:"password"},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),i("el-form-item",[i("el-row",{attrs:{gutter:"5"}},[i("el-col",{attrs:{span:"12"}},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning",loading:this.isloading},on:{click:function(t){return e.check()}}},[e._v("登陆")])],1),e._v(" "),i("el-col",{attrs:{span:"12"}},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning"},on:{click:function(t){return e.toregister()}}},[e._v("\n            注册\n          ")])],1)],1)],1),e._v(" "),i("el-form-item",[i("router-link",{attrs:{to:"/register/false"}},[e._v("找回密码")])],1)],1)],1)])])},staticRenderFns:[]};var c=i("VU/8")(a,l,!1,function(e){i("waqD")},"data-v-a1a8bb5a",null).exports,u={name:"register",data:function(){return{user:"",key:"",phone:"",code:"",verification:"",btn_msg:"获取验证码",isloading:!1}},methods:{sanitycheck:function(){this.key!==this.verification&&""!==this.key?this.$message.error("两次密码输入不匹配"):this.key===this.verification&&""!==this.key&&this.$message({message:"两次密码输入匹配",type:"success"})},getcode:function(){""!==this.phone?(this.axios.post("/user/getCode",{phone:this.phone}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),this.btn_msg="验证码已发送"):alert("请先输入电话号码")},submit:function(){var e=this;"true"===this.$route.params.isregister?""===this.phone||""===this.code||""===this.key||""===this.user||this.key!==this.verification&&""!==this.key?alert("信息尚未填写完整"):(this.isloading=!0,this.axios.post("/user/register",{user:this.user,key:this.key,phone:this.phone,code:this.code}).then(function(t){console.log(t),400===t.status&&alert("验证码错误"),401===t.status&&alert("手机号已经被注册"),404===t.status?alert("服务器404错误"):(alert("注册成功"),e.$router.back()),e.btn_msg="获取验证码",e.isloading=!1}).catch(function(e){console.log(e)})):""===this.phone||""===this.code||""===this.key||this.key!==this.verification&&""!==this.key?alert("信息尚未填写完整"):(this.isloading=!0,this.axios.post("/user/retrievePassword",{key:this.key,phone:this.phone,code:this.code}).then(function(t){console.log(t),400===t.status&&alert("验证码错误"),401===t.status&&alert("用户不存在"),404===t.status?alert("服务器404错误"):(alert("重设密码成功"),e.$router.back()),e.btn_msg="获取验证码",e.isloading=!1}).catch(function(e){console.log(e)}))}}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"card-wrapper"},[i("div",{staticClass:"inner-wrapper"},[i("el-form",{attrs:{"label-width":"100px"}},[i("el-form-item",["true"===this.$route.params.isregister?i("h3",[e._v("注册新用户")]):i("h3",[e._v("找回密码")])]),e._v(" "),"true"===this.$route.params.isregister?i("el-form-item",{attrs:{label:"用户名"}},[i("el-input",{model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"手机号"}},[i("el-row",[i("el-input",{model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"设置密码"}},[i("el-row",[i("el-input",{attrs:{type:"password"},on:{blur:function(t){return e.sanitycheck()}},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"再次输入密码"}},[i("el-input",{attrs:{type:"password"},on:{blur:function(t){return e.sanitycheck()}},model:{value:e.verification,callback:function(t){e.verification=t},expression:"verification"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"验证码"}},[i("el-row",{attrs:{gutter:"5"}},[i("el-col",{attrs:{span:"10"}},[i("el-input",{model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),e._v(" "),i("el-col",{attrs:{span:"5"}},[i("el-button",{attrs:{name:"the_btn",disabled:"验证码已发送"===e.btn_msg},on:{click:function(t){return e.getcode()}}},[e._v(e._s(e.btn_msg))])],1)],1)],1),e._v(" "),i("el-form-item",[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning",loading:e.isloading},on:{click:function(t){return e.submit()}}},[e._v("提交")])],1)],1)],1)])])},staticRenderFns:[]};var p=i("VU/8")(u,h,!1,function(e){i("sIzX")},"data-v-3f621657",null).exports;n.default.use(o.a);var d=new o.a({routes:[{path:"/",name:"login",component:c},{path:"/register/:isregister",name:"register",component:p}]}),f=i("zL8q"),m=i.n(f),v=(i("tvR6"),i("mtWM")),g=i.n(v),k=i("Rf8U"),b=i.n(k);n.default.use(b.a,g.a),n.default.use(m.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:d,components:{App:r},template:"<App/>"})},waqD:function(e,t){}},["v+5l"]);
//# sourceMappingURL=register&login.a72363ec776d3f7e2d2e.js.map