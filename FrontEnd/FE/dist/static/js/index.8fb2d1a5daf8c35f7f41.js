webpackJsonp([1],{"/mZD":function(t,e){},"02ne":function(t,e){},"6MZo":function(t,e,a){t.exports=a.p+"static/img/1.2b5e8a5.jpg"},"6r34":function(t,e){},"FQj+":function(t,e,a){t.exports=a.p+"static/img/5.abfd608.png"},GTGu:function(t,e){},MeKm:function(t,e){},MihK:function(t,e){},Mp8V:function(t,e){},PbKb:function(t,e){},RaAT:function(t,e){},TrKU:function(t,e,a){t.exports=a.p+"static/img/4.0e1158e.jpg"},U67u:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},r,!1,function(t){a("zVDB")},null,null).exports,s=a("/ocq"),o={name:"mainpage",data:function(){return{imgsrc:{idView:a("FQj+")},msg:"当前是index页面",phone:"",activetab:"/ticketsearching",ticketdata:[],selectedticket:""}},mounted:function(){var t=window.location.href,e=t.substring(t.lastIndexOf("=")+1,t.lastIndexOf("#"));this.phone=e},methods:{logout:function(){}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{"background-color":"white",color:"black",padding:"20px","border-radius":"0 0 40px 40px"}},[a("el-col",{attrs:{span:"2",offset:"6"}},[a("el-image",{staticStyle:{height:"50px",width:"50px","padding-top":"7px"},attrs:{src:t.imgsrc.idView}})],1),t._v(" "),a("el-col",{attrs:{span:"10"}},[a("h2",[t._v("线上铁路订票系统")])]),t._v(" "),a("el-col",{attrs:{span:"4"}},[a("h2",[t._v("欢迎您"+t._s(this.phone))])]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"18px"},attrs:{span:"2"}},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.logout()}}},[t._v("注销")])],1)],1),t._v(" "),a("el-menu",{staticStyle:{"border-radius":"40px 0 0 20px"},attrs:{"default-active":t.activetab,mode:"horizontal",router:"true","background-color":"#409EFF","text-color":"white","active-text-color":"white"}},[a("el-menu-item",{staticStyle:{"margin-left":"350px",width:"200px"},attrs:{index:"/ticketsearching"}},[t._v("车票信息查询")]),t._v(" "),a("el-menu-item",{staticStyle:{"margin-left":"200px",width:"200px"},attrs:{index:"/profile"}},[t._v("个人信息")])],1),t._v(" "),a("router-view")],1)},staticRenderFns:[]};var l=a("VU/8")(o,c,!1,function(t){a("kbT8")},"data-v-55faaedb",null).exports,p={name:"ticketsearching",data:function(){return{tabPosition:"left",imgList:[{id:0,idView:a("6MZo")},{id:1,idView:a("dRCe")},{id:2,idView:a("TrKU")}]}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%"}},[e("div",{staticStyle:{"background-color":"white",display:"block",position:"absolute","z-index":"10","margin-left":"330px","margin-right":"100px","margin-top":"100px","border-style":"solid","border-color":"#EBEEF5","border-radius":"13px"},attrs:{id:"wrapper"}},[e("router-view")],1),this._v(" "),e("el-carousel",{staticStyle:{position:"absolute",width:"100%","z-index":"0"},attrs:{height:"700px"}},this._l(this.imgList,function(t){return e("el-carousel-item",{key:"item.id"},[e("el-image",{attrs:{src:t.idView}})],1)}),1)],1)},staticRenderFns:[]};var u=a("VU/8")(p,d,!1,function(t){a("MeKm")},"data-v-d87cff94",null).exports,h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"outter_wrapper"},[a("el-row",{staticStyle:{padding:"10px"}},[a("el-col",{staticStyle:{"border-radius":"20px","border-style":"solid","border-color":"#E4E7ED","border-width":"1px"},attrs:{span:"6"}},[a("el-menu",{staticStyle:{height:"600px","border-radius":"20px"},attrs:{router:"true"}},[a("el-menu-item",{staticStyle:{"margin-top":"20px"},attrs:{index:"/p_info"}},[t._v("个人信息管理")]),t._v(" "),a("el-submenu",{attrs:{index:"/orders"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-s-order"}),t._v(" "),a("span",[t._v("我的订单")])]),t._v(" "),a("el-menu-item",{attrs:{index:"/p_orders/histroy"}},[t._v("历史订单")]),t._v(" "),a("el-menu-item",{attrs:{index:"/p_orders/tobedone"}},[t._v("待出行")])],2),t._v(" "),a("el-menu-item",{attrs:{index:"/suggestion"}},[t._v("产品建议")])],1)],1),t._v(" "),a("el-col",{attrs:{span:"18"}},[a("div",{staticStyle:{padding:"20px"}},[a("router-view")],1)])],1)],1)},staticRenderFns:[]};var m=a("VU/8")({name:"profile"},h,!1,function(t){a("Mp8V")},"data-v-afc317da",null).exports,v={name:"singletrip",data:function(){return{startcity:"",arrivalcity:"",startday:"",isloading:!1,phone:""}},methods:{submit:function(){var t=this;console.log(this.$parent.$parent.$parent.$parent.$parent.ticketdata),""!==this.startcity&&""!==this.arrivalcity&&""!==this.startday?(this.isloading=!0,this.axios.post("http://120.78.87.173:8080/trainroute/searchticket",{startcity:this.startcity,arrivalcity:this.arrivalcity,startday:this.startday}).then(function(e){console.log(e),t.$parent.$parent.$parent.$parent.$parent.ticketdata=e.data,t.$router.push({name:"resultpane"})}).catch(function(t){console.log(t)})):this.$message("请输入完整的信息")}},mounted:function(){document.getElementById("wrapper").style.marginLeft="330px",document.getElementById("wrapper").style.marginTop="100px"}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:"始发站"}},[a("el-input",{attrs:{placeholder:t.请输入始发站},model:{value:t.startcity,callback:function(e){t.startcity=e},expression:"startcity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"终点站"}},[a("el-input",{attrs:{placeholder:t.请输入终点站},model:{value:t.arrivalcity,callback:function(e){t.arrivalcity=e},expression:"arrivalcity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出发日期"}},[a("el-col",{attrs:{span:"11"}},[a("el-date-picker",{staticStyle:{"margin-left":"0"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.startday,callback:function(e){t.startday=e},expression:"startday"}})],1)],1),t._v(" "),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning",loading:this.isloading},on:{click:function(e){return t.submit()}}},[t._v("查询")])],1)],1)},staticRenderFns:[]};var _=a("VU/8")(v,f,!1,function(t){a("/mZD")},"data-v-6c3c47a3",null).exports,g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("往返查询")])])}]};var x=a("VU/8")({name:"twowaytrip"},g,!1,function(t){a("MihK")},"data-v-016f308c",null).exports,$={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("这里是车次信息查询")])])}]};var w=a("VU/8")({name:"trains"},$,!1,function(t){a("uVeH")},"data-v-0d7af125",null).exports,y={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("产品建议")])])}]};var b=a("VU/8")({name:"suggestion"},y,!1,function(t){a("GTGu")},"data-v-83b056a2",null).exports,k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("订单管理")])])}]};var S=a("VU/8")({name:"p_orders"},k,!1,function(t){a("02ne")},"data-v-73a6dc65",null).exports,E={name:"p_info",data:function(){return{user:"",phone:"",balance:"",avatar:"",date:"1999-9-8",password:"",role:"",isloading:!1}},mounted:function(){var t=this;this.phone=this.$parent.$parent.$parent.$parent.phone,this.axios.post("http://120.78.87.173:8080/user/getUserInfo",{phone:this.phone}).then(function(e){console.log(e),200!==e.data.status?t.$message("网络错误"):(t.user=e.data.data.userName,null===e.data.data.balance?t.balance="0":t.balance=e.data.data.balance,t.avatar=e.data.data.avatar,t.password=e.data.data.password)}).catch(function(t){console.log(t)})},methods:{alterusername:function(){var t=this;this.isloading=!0,this.axios.post("http://120.78.87.173:8080/user/changeUserName",{phone:this.phone,name:this.user}).then(function(e){console.log(e),200===e.data.status&&(t.$message({message:"修改成功",type:"success"}),t.isloading=!1)}).catch(function(t){console.log(t)})}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"400px"}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"手机号码:"}},[a("el-col",{attrs:{span:"13"}},[a("el-input",{attrs:{disabled:"true"},model:{value:this.$parent.$parent.$parent.$parent.phone,callback:function(e){t.$set(this.$parent.$parent.$parent.$parent,"phone",e)},expression:"this.$parent.$parent.$parent.$parent.phone"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"用户名:"}},[a("el-row",[a("el-col",{attrs:{span:"13"}},[a("el-input",{model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1),t._v(" "),a("el-col",{attrs:{span:"8"}},[a("el-button",{attrs:{loading:t.isloading},on:{click:t.alterusername}},[t._v("更改用户名")])],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"当前余额:"}},[a("el-col",{staticStyle:{"border-radius":"13px","background-color":"#66b1ff",color:"white","font-size":"30px"},attrs:{span:"5"}},[t._v(t._s(this.balance))]),t._v(" "),a("el-col",{attrs:{span:"3"}},[t._v("元")])],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(E,C,!1,function(t){a("6r34")},"data-v-1191acf2",null).exports,R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-container",{staticStyle:{height:"300px"}},[e("el-aside",{staticStyle:{width:"200px"}},[e("el-menu",{staticStyle:{height:"300px","border-radius":"9px 0 0 9px"},attrs:{router:"true","default-active":"singletrip"}},[e("el-menu-item",{staticClass:"tabs",attrs:{index:"singletrip"}},[this._v("单程")]),this._v(" "),e("el-menu-item",{staticClass:"tabs",attrs:{index:"twowaytrip"}},[this._v("往返")]),this._v(" "),e("el-menu-item",{staticClass:"tabs",attrs:{index:"trains"}},[this._v("车次信息")])],1)],1),this._v(" "),e("el-main",{staticStyle:{width:"500px",overflow:"scroll","background-color":"white","border-radius":"0 9px 9px 0"}},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var U=a("VU/8")({name:"formpane"},R,!1,function(t){a("RaAT")},"data-v-405aa584",null).exports,F={name:"resultpane",data:function(){return{columns:["序号","车次","始发站","终点站","出发时间","到达时间","一等座余票","票价","二等座余票","票价"]}},methods:{purchase:function(t){this.$message("点击的是"+t),this.$parent.$parent.selectedticket=this.$parent.$parent.ticketdata[t],this.$router.push({name:"purchasing",params:{id:t}})},goback:function(){this.$router.back()}},mounted:function(){document.getElementById("wrapper").style.marginLeft="170px",document.getElementById("wrapper").style.marginTop="50px"}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"background-color":"white",height:"580px",overflow:"scroll","border-radius":"13px"}},[0!==this.$parent.$parent.ticketdata.length?a("div",[a("el-row",[a("el-col",{staticStyle:{padding:"20px"},attrs:{span:"1"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-back",circle:""},on:{click:function(e){return t.goback()}}})],1),t._v(" "),a("el-col",{attrs:{span:"23"}},[a("h1",[t._v("查询结果")])])],1),t._v(" "),a("el-row",{staticClass:"rows"},t._l(t.columns,function(e){return a("el-col",{staticStyle:{"border-radius":"20px",padding:"10px","font-size":"12px"},attrs:{span:"2"}},[t._v(t._s(e))])}),1),t._v(" "),t._l(this.$parent.$parent.ticketdata,function(e,n){return a("el-row",{staticStyle:{width:"1000px",padding:"10px","background-color":"#e5e9f2","border-radius":"13px",margin:"14px"},attrs:{gutter:"7"}},[t._l(e,function(e){return a("el-col",{staticStyle:{"border-radius":"20px",padding:"10px"},attrs:{span:"2"}},[t._v(t._s(e))])}),t._v(" "),a("el-col",{attrs:{span:"4"}},[a("el-button",{on:{click:function(e){return t.purchase(n)}}},[t._v("购买")])],1)],2)})],2):a("div",{staticStyle:{width:"1000px",height:"200px"}},[a("h1",{staticStyle:{color:"#C0C4CC"}},[t._v("暂无结果")])])])},staticRenderFns:[]};var I=a("VU/8")(F,T,!1,function(t){a("PbKb")},"data-v-fd5a8038",null).exports,M={name:"purchasing",thisid:"",data:function(){return{columns:["序号","车次","始发站","终点站","出发时间","到达时间","一等座","票价","二等座","票价"],isloading1:!1,isloading2:!1,isComfirming:!1}},methods:{purchasing:function(t){var e=this;"firstclass"===t&&(console.log(this.$parent.$parent.selectedticket),this.axios.post("http://192.168.43.130:8080/trainorder/judgeydaccount",{id:this.$parent.$parent.selectedticket.id,trainId:this.$parent.$parent.selectedticket.trainId,origin:this.$parent.$parent.selectedticket.origin,destination:this.$parent.$parent.selectedticket.destination,startTime:this.$parent.$parent.selectedticket.startTime,arriveTime:this.$parent.$parent.selectedticket.arriveTime,ydNum:this.$parent.$parent.selectedticket.ydNum,ydPrice:this.$parent.$parent.selectedticket.ydPrice,edNum:this.$parent.$parent.selectedticket.edNum,edPrice:this.$parent.$parent.selectedticket.edPrice}).then(function(t){console.log(t),200!==t.data.status?e.$message.error("账户余额不足"):e.isComfirming=!0}).catch(function(t){console.log(t)}))}},mounted:function(){document.getElementById("wrapper").style.marginLeft="330px",document.getElementById("wrapper").style.marginTop="70px"}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"600px",height:"400px",overflow:"scroll",margin:"20px"}},[a("h1",[t._v("车次详情")]),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("序号")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.id))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("车次")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.trainId))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("始发站点")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.origin))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("目的地站点")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.destination))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("出发时间")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.startTime))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("结束时间")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.arriveTime))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("一等座余票")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.ydNum))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("一等座票价")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.ydPrice))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("二等座余票")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.edNum))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"4"}},[a("el-col",{attrs:{span:"5"}},[t._v("二等票价")]),t._v(" "),a("el-col",{attrs:{span:"8"}},[t._v(t._s(this.$parent.$parent.selectedticket.edPrice))])],1),t._v(" "),a("el-row",{staticClass:"rows",attrs:{gutter:"7"}},[a("el-col",{attrs:{span:"12"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning",loading:t.isloading1},on:{click:function(e){return t.purchasing("firstclass")}}},[t._v("购买一等座")])],1),t._v(" "),a("el-col",{attrs:{span:"12"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"warning",loading:t.isloading2},on:{click:function(e){return t.purchasing("secclass")}}},[t._v("购买二等座")])],1)],1)],1)},staticRenderFns:[]};var B=a("VU/8")(M,P,!1,function(t){a("y6RJ")},"data-v-1890f711",null).exports;n.default.use(s.a);var z=new s.a({routes:[{path:"/",name:"mainpage",component:l,children:[{path:"",name:"ticketsearching",component:u,children:[{path:"",name:"formpane",component:U,children:[{path:"",name:"singletrip",component:_},{path:"/singletrip",name:"singletrip",component:_},{path:"/twowaytrip",name:"twowaytrip",component:x},{path:"/trains",name:"trains",component:w}]},{path:"/resultpane",name:"resultpane",component:I},{path:"/purchasing/:id",name:"purchasing",component:B}]},{path:"/ticketsearching",name:"ticketsearching",component:u,children:[{path:"",name:"formpane",component:U,children:[{path:"",name:"singletrip",component:_},{path:"/singletrip",name:"singletrip",component:_},{path:"/twowaytrip",name:"twowaytrip",component:x},{path:"/trains",name:"trains",component:w}]},{path:"/resultpane",name:"resultpane",component:I},{path:"/purchasing/:id",name:"purchasing",component:B}]},{path:"/profile",name:"profile",component:m,children:[{path:"",name:"p_info",component:V},{path:"/p_info",name:"p_info",component:V},{path:"/p_orders/:o_type",name:S,component:S},{path:"/suggestion",name:"/suggestion",component:b}]}]}]}),K=a("zL8q"),N=a.n(K),j=(a("tvR6"),a("mtWM")),L=a.n(j),A=a("Rf8U"),D=a.n(A);n.default.use(D.a,L.a),n.default.use(N.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:z,components:{App:i},template:"<App/>"})},dRCe:function(t,e,a){t.exports=a.p+"static/img/2.07b214c.jpg"},kbT8:function(t,e){},tvR6:function(t,e){},uVeH:function(t,e){},y6RJ:function(t,e){},zVDB:function(t,e){}},["U67u"]);
//# sourceMappingURL=index.8fb2d1a5daf8c35f7f41.js.map